<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Sep 27 12:37:05 PDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DatabaseClient (Google Cloud 0.64.0-alpha API)</title>
<meta name="date" content="2018-09-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DatabaseClient (Google Cloud 0.64.0-alpha API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DatabaseClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/cloud/spanner/DatabaseAdminClient.html" title="interface in com.google.cloud.spanner"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/google/cloud/spanner/DatabaseId.html" title="class in com.google.cloud.spanner"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/cloud/spanner/DatabaseClient.html" target="_top">Frames</a></li>
<li><a href="DatabaseClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.cloud.spanner</div>
<h2 title="Interface DatabaseClient" class="title">Interface DatabaseClient</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../com/google/cloud/spanner/Session.html" title="interface in com.google.cloud.spanner">Session</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">DatabaseClient</span></pre>
<div class="block">Interface for all the APIs that are used to read/write data into a Cloud Spanner database. An
 instance of this is tied to a specific database.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#readOnlyTransaction--">readOnlyTransaction</a></span>()</code>
<div class="block">Returns a read-only transaction context in which a multiple reads and/or queries can be
 performed using <a href="../../../../com/google/cloud/spanner/TimestampBound.html#strong--"><code>TimestampBound.strong()</code></a> concurrency.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#readOnlyTransaction-com.google.cloud.spanner.TimestampBound-">readOnlyTransaction</a></span>(<a href="../../../../com/google/cloud/spanner/TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;bound)</code>
<div class="block">Returns a read-only transaction context in which a multiple reads and/or queries can be
 performed at the given timestamp bound.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/TransactionRunner.html" title="interface in com.google.cloud.spanner">TransactionRunner</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#readWriteTransaction--">readWriteTransaction</a></span>()</code>
<div class="block">Returns a transaction runner for executing a single logical transaction with retries.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#singleUse--">singleUse</a></span>()</code>
<div class="block">Returns a context in which a single read can be performed using <a href="../../../../com/google/cloud/spanner/TimestampBound.html#strong--"><code>TimestampBound.strong()</code></a>
 concurrency.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#singleUse-com.google.cloud.spanner.TimestampBound-">singleUse</a></span>(<a href="../../../../com/google/cloud/spanner/TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;bound)</code>
<div class="block">Returns a context in which a single read can be performed at the given timestamp bound.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#singleUseReadOnlyTransaction--">singleUseReadOnlyTransaction</a></span>()</code>
<div class="block">Returns a read-only transaction context in which a single read or query can be performed using
 <a href="../../../../com/google/cloud/spanner/TimestampBound.html#strong--"><code>TimestampBound.strong()</code></a> concurrency.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#singleUseReadOnlyTransaction-com.google.cloud.spanner.TimestampBound-">singleUseReadOnlyTransaction</a></span>(<a href="../../../../com/google/cloud/spanner/TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;bound)</code>
<div class="block">  * Returns a read-only transaction context in which a single read or query can be performed at the
 given timestamp bound.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/spanner/TransactionManager.html" title="interface in com.google.cloud.spanner">TransactionManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#transactionManager--">transactionManager</a></span>()</code>
<div class="block">Returns a transaction manager which allows manual management of transaction lifecycle.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/Timestamp.html" title="class in com.google.cloud">Timestamp</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#write-java.lang.Iterable-">write</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../com/google/cloud/spanner/Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</code>
<div class="block">Writes the given mutations atomically to the database.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/cloud/Timestamp.html" title="class in com.google.cloud">Timestamp</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/cloud/spanner/DatabaseClient.html#writeAtLeastOnce-java.lang.Iterable-">writeAtLeastOnce</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../com/google/cloud/spanner/Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</code>
<div class="block">Writes the given mutations atomically to the database without replay protection.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="write-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre><a href="../../../../com/google/cloud/Timestamp.html" title="class in com.google.cloud">Timestamp</a>&nbsp;write(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../com/google/cloud/spanner/Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)
         throws <a href="../../../../com/google/cloud/spanner/SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></pre>
<div class="block">Writes the given mutations atomically to the database.

 <p>This method uses retries and replay protection internally, which means that the mutations
 are applied exactly once on success, or not at all if an error is returned, regardless of any
 failures in the underlying network. Note that if the call is cancelled or reaches deadline, it
 is not possible to know whether the mutations were applied without performing a subsequent
 database operation, but the mutations will have been applied at most once.

 <p>Example of blind write.
 <pre> <code>
 long singerId = my_singer_id;
 Mutation mutation = Mutation.newInsertBuilder("Singer")
         .set("SingerId")
         .to(singerId)
         .set("FirstName")
         .to("Billy")
         .set("LastName")
         .to("Joel")
         .build();
 dbClient.write(Collections.singletonList(mutation));
 </code></pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the timestamp at which the write was committed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/google/cloud/spanner/SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeAtLeastOnce-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAtLeastOnce</h4>
<pre><a href="../../../../com/google/cloud/Timestamp.html" title="class in com.google.cloud">Timestamp</a>&nbsp;writeAtLeastOnce(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../com/google/cloud/spanner/Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)
                    throws <a href="../../../../com/google/cloud/spanner/SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></pre>
<div class="block">Writes the given mutations atomically to the database without replay protection.

 <p>Since this method does not feature replay protection, it may attempt to apply <code>mutations</code> more than once; if the mutations are not idempotent, this may lead to a failure
 being reported when the mutation was applied once. For example, an insert may fail with <a href="../../../../com/google/cloud/spanner/ErrorCode.html#ALREADY_EXISTS"><code>ErrorCode.ALREADY_EXISTS</code></a> even though the row did not exist before this method was called. For
 this reason, most users of the library will prefer to use <a href="../../../../com/google/cloud/spanner/DatabaseClient.html#write-java.lang.Iterable-"><code>write(Iterable)</code></a> instead.
 However, <code>writeAtLeastOnce()</code> requires only a single RPC, whereas <code>write()</code>
 requires two RPCs (one of which may be performed in advance), and so this method may be
 appropriate for latency sensitive and/or high throughput blind writing.

 <p>Example of unprotected blind write.
 <pre> <code>
 long singerId = my_singer_id;
 Mutation mutation = Mutation.newInsertBuilder("Singers")
         .set("SingerId")
         .to(singerId)
         .set("FirstName")
         .to("Billy")
         .set("LastName")
         .to("Joel")
         .build();
 dbClient.writeAtLeastOnce(Collections.singletonList(mutation));
 </code></pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the timestamp at which the write was committed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/google/cloud/spanner/SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code></dd>
</dl>
</li>
</ul>
<a name="singleUse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleUse</h4>
<pre><a href="../../../../com/google/cloud/spanner/ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a>&nbsp;singleUse()</pre>
<div class="block">Returns a context in which a single read can be performed using <a href="../../../../com/google/cloud/spanner/TimestampBound.html#strong--"><code>TimestampBound.strong()</code></a>
 concurrency.

 <p>Example of single use.
 <pre> <code>
 long singerId = my_singer_id;
 String column = "FirstName";
 Struct row =
     dbClient.singleUse().readRow("Singers", Key.of(singerId), Collections.singleton(column));
 String firstName = row.getString(column);
 </code></pre></div>
</li>
</ul>
<a name="singleUse-com.google.cloud.spanner.TimestampBound-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleUse</h4>
<pre><a href="../../../../com/google/cloud/spanner/ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a>&nbsp;singleUse(<a href="../../../../com/google/cloud/spanner/TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;bound)</pre>
<div class="block">Returns a context in which a single read can be performed at the given timestamp bound.

 <p>Example of single use with timestamp bound.
 <pre> <code>
 long singerId = my_singer_id;
 String column = "FirstName";
 Struct row =
     dbClient
         .singleUse(TimestampBound.ofMaxStaleness(10, TimeUnit.SECONDS))
         .readRow("Singers", Key.of(singerId), Collections.singleton(column));
 String firstName = row.getString(column);
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bound</code> - the timestamp bound at which to perform the read</dd>
</dl>
</li>
</ul>
<a name="singleUseReadOnlyTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleUseReadOnlyTransaction</h4>
<pre><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a>&nbsp;singleUseReadOnlyTransaction()</pre>
<div class="block">Returns a read-only transaction context in which a single read or query can be performed using
 <a href="../../../../com/google/cloud/spanner/TimestampBound.html#strong--"><code>TimestampBound.strong()</code></a> concurrency. This method differs from <a href="../../../../com/google/cloud/spanner/DatabaseClient.html#singleUse--"><code>singleUse()</code></a> in
 that the read timestamp used may be inspected after the read has returned data or finished
 successfully.

 <p>Example of single use read only transaction.
 <pre> <code>
 long singerId = my_singer_id;
 String column = "FirstName";
 ReadOnlyTransaction txn = dbClient.singleUseReadOnlyTransaction();
 Struct row = txn.readRow("Singers", Key.of(singerId), Collections.singleton(column));
 row.getString(column);
 Timestamp timestamp = txn.getReadTimestamp();
 </code></pre></div>
</li>
</ul>
<a name="singleUseReadOnlyTransaction-com.google.cloud.spanner.TimestampBound-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleUseReadOnlyTransaction</h4>
<pre><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a>&nbsp;singleUseReadOnlyTransaction(<a href="../../../../com/google/cloud/spanner/TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;bound)</pre>
<div class="block">  * Returns a read-only transaction context in which a single read or query can be performed at the
 given timestamp bound. This method differs from <a href="../../../../com/google/cloud/spanner/DatabaseClient.html#singleUse-com.google.cloud.spanner.TimestampBound-"><code>singleUse(TimestampBound)</code></a> in that the
 read timestamp used may be inspected after the read has returned data or finished successfully.

 <p>Example of single use read only transaction with timestamp bound.
 <pre> <code>
 long singerId = my_singer_id;
 String column = "FirstName";
 ReadOnlyTransaction txn =
     dbClient.singleUseReadOnlyTransaction(TimestampBound.ofMaxStaleness(10, TimeUnit.SECONDS));
 Struct row = txn.readRow("Singers", Key.of(singerId), Collections.singleton(column));
 row.getString(column);
 Timestamp timestamp = txn.getReadTimestamp();
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bound</code> - the timestamp bound at which to perform the read</dd>
</dl>
</li>
</ul>
<a name="readOnlyTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readOnlyTransaction</h4>
<pre><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a>&nbsp;readOnlyTransaction()</pre>
<div class="block">Returns a read-only transaction context in which a multiple reads and/or queries can be
 performed using <a href="../../../../com/google/cloud/spanner/TimestampBound.html#strong--"><code>TimestampBound.strong()</code></a> concurrency. All reads/queries will use the
 same timestamp, and the timestamp can be inspected after any read/query has returned data or
 finished successfully.

 <p>Example of read only transaction.
 <pre> <code>
 long singerId = my_singer_id;
 long albumId = my_album_id;
 String singerColumn = "FirstName";
 String albumColumn = "AlbumTitle";
 String albumTitle = null;
 // ReadOnlyTransaction should be closed to prevent resource leak.
 try (ReadOnlyTransaction txn = dbClient.readOnlyTransaction()) {
   Struct singerRow =
       txn.readRow("Singers", Key.of(singerId), Collections.singleton(singerColumn));
   Struct albumRow =
       txn.readRow("Albums", Key.of(singerId, albumId), Collections.singleton(albumColumn));
   singerRow.getString(singerColumn);
   albumTitle = albumRow.getString(albumColumn);
 }
 </code></pre></div>
</li>
</ul>
<a name="readOnlyTransaction-com.google.cloud.spanner.TimestampBound-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readOnlyTransaction</h4>
<pre><a href="../../../../com/google/cloud/spanner/ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a>&nbsp;readOnlyTransaction(<a href="../../../../com/google/cloud/spanner/TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;bound)</pre>
<div class="block">Returns a read-only transaction context in which a multiple reads and/or queries can be
 performed at the given timestamp bound. All reads/queries will use the same timestamp, and the
 timestamp can be inspected after any read/query has returned data or finished successfully.

 <p>Note that the bounded staleness modes, <a href="../../../../com/google/cloud/spanner/TimestampBound.Mode.html#MIN_READ_TIMESTAMP"><code>TimestampBound.Mode.MIN_READ_TIMESTAMP</code></a> and
 <a href="../../../../com/google/cloud/spanner/TimestampBound.Mode.html#MAX_STALENESS"><code>TimestampBound.Mode.MAX_STALENESS</code></a>, are not supported for multi-use read-only
 transactions.

 <p>Example of read only transaction with timestamp bound.
 <pre> <code>
 long singerId = my_singer_id;
 long albumId = my_album_id;
 String singerColumn = "FirstName";
 String albumColumn = "AlbumTitle";
 String albumTitle = null;
 // ReadOnlyTransaction should be closed to prevent resource leak.
 try (ReadOnlyTransaction txn =
     dbClient.readOnlyTransaction(TimestampBound.ofExactStaleness(10, TimeUnit.SECONDS))) {
   Struct singerRow =
       txn.readRow("Singers", Key.of(singerId), Collections.singleton(singerColumn));
   Struct albumRow =
       txn.readRow("Albums", Key.of(singerId, albumId), Collections.singleton(albumColumn));
   singerRow.getString(singerColumn);
   albumTitle = albumRow.getString(albumColumn);
 }
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bound</code> - the timestamp bound at which to perform the read</dd>
</dl>
</li>
</ul>
<a name="readWriteTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readWriteTransaction</h4>
<pre><a href="../../../../com/google/cloud/spanner/TransactionRunner.html" title="interface in com.google.cloud.spanner">TransactionRunner</a>&nbsp;readWriteTransaction()</pre>
<div class="block">Returns a transaction runner for executing a single logical transaction with retries. The
 returned runner can only be used once.

 <p>Example of a read write transaction.
 <pre> <code>
 long singerId = my_singer_id;
 TransactionRunner runner = dbClient.readWriteTransaction();
 runner.run(
     new TransactionCallable&lt;Void&gt;() {
 
        @Override
       public Void run(TransactionContext transaction) throws Exception {
         String column = "FirstName";
         Struct row =
             transaction.readRow("Singers", Key.of(singerId), Collections.singleton(column));
         String name = row.getString(column);
         transaction.buffer(
             Mutation.newUpdateBuilder("Singers").set(column).to(name.toUpperCase()).build());
         return null;
       }
     });
 </code></pre></div>
</li>
</ul>
<a name="transactionManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>transactionManager</h4>
<pre><a href="../../../../com/google/cloud/spanner/TransactionManager.html" title="interface in com.google.cloud.spanner">TransactionManager</a>&nbsp;transactionManager()</pre>
<div class="block">Returns a transaction manager which allows manual management of transaction lifecycle. This
 API is meant for advanced users. Most users should instead use the
 <a href="../../../../com/google/cloud/spanner/DatabaseClient.html#readWriteTransaction--"><code>readWriteTransaction()</code></a> API instead.

 <p>Example of using <a href="../../../../com/google/cloud/spanner/TransactionManager.html" title="interface in com.google.cloud.spanner"><code>TransactionManager</code></a>.
 <pre> <code>
 long singerId = my_singer_id;
 try (TransactionManager manager = dbClient.transactionManager()) {
   TransactionContext txn = manager.begin();
   while (true) {
     String column = "FirstName";
     Struct row = txn.readRow("Singers", Key.of(singerId), Collections.singleton(column));
     String name = row.getString(column);
     txn.buffer(
         Mutation.newUpdateBuilder("Singers").set(column).to(name.toUpperCase()).build());
     try {
       manager.commit();
       break;
     } catch (AbortedException e) {
       Thread.sleep(e.getRetryDelayInMillis() / 1000);
       txn = manager.resetForRetry();
     }
   }
 }
 </code></pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DatabaseClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/cloud/spanner/DatabaseAdminClient.html" title="interface in com.google.cloud.spanner"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/google/cloud/spanner/DatabaseId.html" title="class in com.google.cloud.spanner"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/cloud/spanner/DatabaseClient.html" target="_top">Frames</a></li>
<li><a href="DatabaseClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 Google LLC. All rights reserved.</small></p>
</body>
</html>
